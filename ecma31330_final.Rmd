---
title: "Metrics and ML - Final Paper"
author: "Sydney Gu and Isabella Lin"
date: "2025-02-02"
output:
  pdf_document: default
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(haven)
data <- read_dta("~/Downloads/208325-V2/Replication/STATA/dta/cpi.dta")
head(data)

data2 <- read_dta("~/Downloads/208325-V2/Replication/STATA/raw/CEX_sampleA_80_22.dta")
print(dim(data2))
data3 <- read.csv("~/Downloads/208325-V2/Replication/STATA/raw/CPIAUCSL_april2000.csv")
head(data3)
```

```{r}
library(dplyr)

data2 <- data2[, colMeans(is.na(data2)) < 0.9]  # Keep columns with <50% missing
data2 <- data2[rowMeans(is.na(data2)) < 0.9, ]  # Keep rows with <50% missing


data2 <- data2 %>%
  mutate(across(where(is.numeric), ~replace_na(., median(., na.rm = TRUE)))) %>%
  mutate(across(where(is.character), ~replace_na(., "Unknown")))
head(data2)

str(data2)
colSums(is.na(data2))

```


